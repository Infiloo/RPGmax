<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RPGmax - Minecraft Server</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Press+Start+2P&family=Inter:wght@400;700&display=swap');
        .font-minecraft {
            font-family: 'Press Start 2P', cursive;
        }
        body {
            font-family: 'Inter', sans-serif;
            background-color: #1a1a2e;
            color: #e4e4e7;
        }
        .bg-pattern {
            background-image: url('data:image/svg+xml;utf8,<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><g fill="%232c2c54" fill-opacity="0.2"><path d="M11 0h1v19h-1zM0 11h19v1H0z"/></g></svg>');
        }
    </style>
</head>
<body class="bg-pattern min-h-screen flex flex-col items-center justify-center p-4">

    <!-- Header & Hero Section -->
    <header class="text-center my-8">
        <h1 class="font-minecraft text-4xl sm:text-6xl text-lime-400 drop-shadow-lg">RPGmax</h1>
        <p class="mt-4 text-xl sm:text-2xl font-bold">Your ultimate Minecraft RPG Adventure!</p>
    </header>

    <main class="w-full max-w-4xl p-8 bg-gray-900 bg-opacity-80 rounded-3xl shadow-2xl backdrop-blur-sm">

        <!-- Join Button Section -->
        <section class="text-center my-8 p-6 bg-green-800 rounded-2xl border-2 border-green-600 shadow-md">
            <p class="text-white font-bold text-lg sm:text-xl">Ready to join the adventure?</p>
            <button id="joinButton" class="mt-4 px-8 py-4 bg-lime-400 text-gray-900 font-minecraft text-lg rounded-full shadow-lg hover:bg-lime-300 transition-colors">
                Join Now!
            </button>
            <div id="copyMessage" class="mt-2 text-lime-400 font-bold opacity-0 transition-opacity">
                IP copied!
            </div>
            <p class="mt-4 text-sm sm:text-base text-gray-200">IP: rpgmax.minekeep.gg</p>
        </section>

        <!-- Server MOTD Card (relocated) -->
        <section class="mt-8 p-6 bg-gray-800 rounded-2xl shadow-xl border-2 border-gray-700">
            <h3 class="text-2xl font-bold mb-2 text-lime-300">Server Status</h3>
            <p id="motdText" class="text-gray-300">Loading server version...</p>
        </section>

        <!-- Features Section -->
        <section class="mt-12">
            <h2 class="text-3xl font-bold text-center mb-6 text-lime-400">Server Features</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                
                <!-- Custom Mobs Card -->
                <div class="p-6 bg-gray-800 rounded-2xl shadow-xl border-2 border-gray-700">
                    <h3 class="text-2xl font-bold mb-2 text-lime-300">Custom Mobs</h3>
                    <p class="text-gray-300">Encounter new, challenging creatures with unique abilities and loot. Be prepared for a new type of fight!</p>
                </div>

                <!-- More Weapons Card -->
                <div class="p-6 bg-gray-800 rounded-2xl shadow-xl border-2 border-gray-700">
                    <h3 class="text-2xl font-bold mb-2 text-lime-300">More Weapons</h3>
                    <p class="text-gray-300">Discover and craft powerful custom weapons that will help you defeat the new threats and explore the world.</p>
                </div>

                <!-- Custom Biomes Card -->
                <div class="p-6 bg-gray-800 rounded-2xl shadow-xl border-2 border-gray-700">
                    <h3 class="text-2xl font-bold mb-2 text-lime-300">Custom Biomes</h3>
                    <p class="text-gray-300">Explore stunning, custom-made biomes with unique flora, fauna, and secrets to uncover.</p>
                </div>

                <!-- Mana Skills Card -->
                <div class="p-6 bg-gray-800 rounded-2xl shadow-xl border-2 border-gray-700">
                    <h3 class="text-2xl font-bold mb-2 text-lime-300">Mana Skills</h3>
                    <p class="text-gray-300">Use mana to cast powerful skills and spells. Master your abilities and become the most powerful hero in the realm!</p>
                </div>

            </div>
        </section>

    </main>

    <!-- JavaScript for Join Button and MOTD -->
    <script>
        document.getElementById('joinButton').addEventListener('click', () => {
            const ip = 'rpgmax.minekeep.gg';
            const copyMessage = document.getElementById('copyMessage');
            
            // Create a temporary input element to copy the text
            const tempInput = document.createElement('input');
            tempInput.value = ip;
            document.body.appendChild(tempInput);
            tempInput.select();
            document.execCommand('copy');
            document.body.removeChild(tempInput);

            // Show a temporary message
            copyMessage.classList.remove('opacity-0');
            copyMessage.classList.add('opacity-100');
            setTimeout(() => {
                copyMessage.classList.remove('opacity-100');
                copyMessage.classList.add('opacity-0');
            }, 2000);
        });

        // Function to fetch and display the server MOTD
        async function fetchServerStatus() {
            const motdElement = document.getElementById('motdText');
            const serverIp = 'rpgmax.minekeep.gg';

            try {
                const response = await fetch(`https://api.mcstatus.io/v2/status/java/${serverIp}`);
                const data = await response.json();
                
                // Check if the server is offline based on the specific MOTD message
                if (data.online && data.motd.clean.trim() === "rpgmax is offline! It will be started if you connect.") {
                    motdElement.textContent = "Kann Version nicht überprüfen.";
                } else if (data.online) {
                    motdElement.textContent = "Version: " + data.motd.clean;
                } else {
                    motdElement.textContent = "Server is currently offline.";
                }
            } catch (error) {
                console.error('Error fetching server status:', error);
                motdElement.textContent = "Error loading server status.";
            }
        }

        // Call the function on page load
        window.onload = fetchServerStatus;
    </script>
</body>
</html>
